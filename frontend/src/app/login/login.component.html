<form novalidate [formGroup]="loginForm">
  <div class="flex align-items-center justify-content-center">
    <div class="surface-card py-7 px-5 sm:px-7 shadow-2 flex flex-column w-11 sm:w-30rem" style="border-radius: 14px">
      <div class="text-center mb-5">
        <div class="text-3xl font-bold mb-3">EASYQUIZY</div>
        <span class="text-color-secondary font-medium line-height-3">Pas encore inscrit ?</span>
        <a [routerLink]="['/user/register']" class="font-medium no-underline ml-2 text-blue-500 cursor-pointer">Cr√©er un compte</a>
      </div>
      <div class="p-fluid">
        <div class="mb-4">
          <span class="p-input-icon-left">
            <i class="pi pi-user"></i>
            <input id="username" type="text" placeholder="Nom d'utilisateur" formControlName="username" class="p-inputtext w-full"/>
          </span>
          <div *ngIf="loginForm.get('username')?.dirty && loginForm.get('username')?.hasError('required')">
            <small class="p-error">Ce champ est obligatoire</small>
          </div>
        </div>
        <div class="mb-4">
          <span class="p-input-icon-left">
            <i class="pi pi-key"></i>
            <input id="password" type="password" placeholder="Mot de passe" formControlName="password" class="p-inputtext w-full"/>
          </span>
          <div *ngIf="loginForm.get('password')?.dirty && loginForm.get('password')?.hasError('required')">
            <small class="p-error">Ce champ est obligatoire</small>
          </div>
        </div>
        <p-button
          label="Se connecter"
          icon="pi pi-sign-in"
          type="submit"
          class="w-full mt-3"
          (click)="login(loginForm.value)"
          [disabled]="loginForm.invalid"
        />
        <div *ngIf="errorMessage" class="mt-2 text-center p-error">
          <span>{{ errorMessage }}</span>
        </div>
      </div>
    </div>
  </div>
</form>
